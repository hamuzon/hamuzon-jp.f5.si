<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>カレンダー v3.0 / Calendar v3.0</title>

<!-- ファビコン（ライトモード） -->
<link rel="icon" href="icon-light.svg" type="image/svg+xml" media="(prefers-color-scheme: light)" />

<!-- ファビコン（ダークモード） -->
<link rel="icon" href="icon-dark.svg" type="image/svg+xml" media="(prefers-color-scheme: dark)" />

<!-- CSS読み込み -->
<link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <img src="icon-light.svg" alt="アイコン" id="header-icon-light" />
  <img src="icon-dark.svg" alt="アイコン" id="header-icon-dark" />
  <h1>カレンダー v3.0 / Calendar v3.0</h1>
  <button id="settings-btn" aria-label="設定">⚙️</button>
</header>

<section id="calendar">
  <div id="calendar-header">
    <button id="prev-month" aria-label="前の月">&lt;</button>
    <div id="month-year" aria-live="polite" aria-atomic="true"></div>
    <button id="next-month" aria-label="次の月">&gt;</button>
  </div>
  <table aria-label="カレンダー">
    <thead>
      <tr>
        <th scope="col">日</th>
        <th scope="col">月</th>
        <th scope="col">火</th>
        <th scope="col">水</th>
        <th scope="col">木</th>
        <th scope="col">金</th>
        <th scope="col">土</th>
      </tr>
    </thead>
    <tbody id="calendar-body"></tbody>
  </table>
  <button id="today-button" aria-label="今日に戻る">今日</button>
</section>

<!-- 予定編集モーダル -->
<div class="modal-bg" id="modal-bg" role="dialog" aria-modal="true" aria-labelledby="modal-date" tabindex="-1">
  <div id="modal" role="document">
    <h2 id="modal-date"></h2>
    <div id="event-list" aria-live="polite"></div>

    <label for="new-event-start">開始時間</label>
    <input type="time" id="new-event-start" name="new-event-start" />

    <label for="new-event-end">終了時間</label>
    <input type="time" id="new-event-end" name="new-event-end" />

    <label for="new-event-text">予定内容（タグは #で指定）</label>
    <textarea id="new-event-text" name="new-event-text" rows="3" placeholder="#仕事 会議"></textarea>

    <div class="modal-buttons">
      <button id="add-event-btn">追加 / Add</button>
      <button id="close-btn">閉じる / Close</button>
    </div>
  </div>
</div>

<!-- 設定モーダル -->
<div class="modal-bg" id="settings-modal-bg" role="dialog" aria-modal="true" tabindex="-1">
  <form id="settings-modal" role="document">
    <h2>タグ色設定</h2>
    <div id="tag-color-list"></div>
    <label for="new-tag-name">新しいタグ名（#付き）</label>
    <input type="text" id="new-tag-name" placeholder="#タグ名" />
    <label for="new-tag-color">色</label>
    <input type="color" id="new-tag-color" value="#4a7c59" />
    <button type="button" id="add-tag-btn">タグ追加</button>
    <div class="modal-buttons">
      <button type="submit">保存</button>
      <button type="button" id="settings-cancel-btn">キャンセル</button>
    </div>
  </form>
</div>

<!-- JSON入出力用非表示ファイル入力 -->
<input type="file" id="load-json-input" accept=".json" style="display:none" />

<footer style="margin-top:20px; text-align:center;">
  <button id="save-json-btn">予定を保存（JSON）</button>
  <button id="load-json-btn">予定を読み込み（JSON）</button>
</footer>

<script src="script.js" defer></script>

</body>
</html>
